{"version":3,"sources":["services/history.js","services/User.js","services/event.js","services/ChartItems.js","services/Validator.js","pages/Login/index.js","pages/Register/index.js","services/navigation.js","pages/Planner/index.js","pages/Guest/index.js","pages/Events/index.js","services/LocalStorage.js","routes/Route.js","routes/index.js","App.js","serviceWorker.js","index.js"],"names":["history","createBrowserHistory","User","userName","name","this","Guest","username","address","phoneNumber","guestId","eventPin","tableSeated","Event","pin","eventDate","maxPeople","length","width","layout_length","layout_width","Table","props","seats","parseInt","guests","availableSeats","tableId","xCoordinate","yCoordinate","height","changeLocation","bind","chooseItem","chooseSize","randomize","require","callAuthenticate","state","xhr","XMLHttpRequest","open","setRequestHeader","send","user","pass","status","responseText","callSaveLayout","itemList","event_pin","callSaveGuestLayout","table_id","guest_pin","validateGuest","storage","gID","guestAuthCode","callGuestAuthenticate","data","JSON","parse","newGuest","results","email","full_name","phone_number","setUser","registerPlanner","repass","match","authCode","callRegister","newUser","addGuest","curEventPin","guestPin","phone","callGuest","deleteGuest","callDeleteGuest","updateGuest","callUpdateGuest","getGuestList","guestListCode","callGuestList","i","push","addEvent","curUser","pixelLength","pixelWidth","date","max","callEvent","deleteEvent","callDeleteEvent","getSingleEvent","eventCode","callSingleEvent","event_name","event_time","max_people","getEventList","eventListCode","callEventList","events","getGuestGroup","groupCode","callGuestGroup","group_name","getItemList","itemCode","callItemList","tables","j","available_seats","LoginBox","id","React","Component","GuestLogin","error","changeGID","handleSubmit","event","target","value","setState","substr","preventDefault","validated","errorMessage","className","onSubmit","type","placeholder","onChange","PlannerLogin","changeUser","changePass","handleRegister","validatePlanner","data-testid","required","onClick","withRouter","RegisterBox","changeName","changeRepass","registered","console","log","Navigation","handleEventPage","towhere","text","CreateGuest","setGuest","undefined","openGuestDialog","openItemDialog","saveLayout","handleDelete","changeSearch","updateGuests","removeGuest","updateItems","gotGuests","getGuests","guestList","listItems","displayedListItems","placedItemList","clicked","search","curEvent","getEvent","layoutWidth","layoutHeight","Key","guestName","guestEmail","guestPhone","guestAddress","gotItems","getItems","newItem","includes","item","document","getElementsByClassName","window","confirm","alert","filtered","filter","guest","toLowerCase","lastAddedGuest","prevState","sort","guest1","guest2","localeCompare","removedGuestKey","splice","displayFiltered","listLength","Math","floor","GuestItem","changeEmail","changeAddress","changePhone","openDialog","closeDialog","disableForm","enableForm","deleteForm","cancelForm","getElementById","style","display","resetGuest","curGuest","getGuest","inputForm","disabled","location","reload","key","Layout","createGrid","table","children","cellSpacing","ChartItem","seatGuest","dragMouseDown","curTable","setCurTable","getCurTable","elmnt","posX1","posY1","posX","clientX","posY","clientY","newX","offsetLeft","newY","offsetTop","onmousemove","left","top","scrollIntoView","block","inline","onmouseup","updateTableLocation","onMouseDown","GuestDialog","handleSubmitGuest","closeGuestDialog","added","ItemDialog","numSeats","handleSubmitItem","closeItemDialog","changeLength","changeWidth","changeNumSeats","addTable","SeatDialog","handleSubmitSeats","closeSeatDialog","selectGuest","handleAddGuest","updateUsableGuests","handleRemoveGuest","selectedGuest","usableGuests","seatedGuests","seatedGuestItems","list","map","currentTarget","newList","removeGuestTable","addGuestTable","resetCurTable","SeatedGuestItem","GuestView","getUser","curGroup","handleLogout","clear","updateGuestUser","spouse","changespouse","exception","changeException","class","EventList","resetGuests","resetItems","gotEvents","getEvents","eventList","eventName","setEvent","changeDate","changeMax","EventItem","goToEvent","LocalStorage","ls","index","arr","newEvent","group","items","tableHeight","tableWidth","guestIndex","tableList","newGuests","pushCode","pushLayout","RouteWrapper","isPrivate","rest","isSigned","to","Routes","path","exact","render","Login","Register","Events","Planner","defaultProps","App","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4f1f519e.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\nconst history = createBrowserHistory();\r\nexport default history;","export class User {\r\n\r\n    constructor(userName, name) {\r\n        this.userName = userName;\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nexport class Guest extends User {\r\n    constructor(username, name, address, phoneNumber, guestId, eventPin, tableSeated) {\r\n        super(username, name);\r\n        this.address = address;\r\n        this.phoneNumber = phoneNumber;\r\n        this.guestId = guestId;\r\n        this.eventPin = eventPin;\r\n        this.tableSeated = tableSeated;\r\n    }\r\n\r\n}\r\n","\r\n\r\nexport class Event {\r\n    constructor(name, pin, address, eventDate, maxPeople, length, width) {\r\n        this.name = name;\r\n        this.pin = pin;\r\n        this.address = address;\r\n        this.eventDate = eventDate;\r\n        this.maxPeople = maxPeople;\r\n        this.layout_length = length;\r\n        this.layout_width = width;\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport class ChartItem  {\r\n    constructor(props) {\r\n        this.name = props.name;\r\n        this.xCoordinate= parseInt(props.xCoordinate);\r\n        this.yCoordinate= parseInt(props.yCoordinate);\r\n        this.height= parseInt(props.height);\r\n        this.width= parseInt(props.width);\r\n\r\n        this.changeLocation = this.changeLocation.bind(this);\r\n        this.chooseItem = this.chooseItem.bind(this);\r\n        this.chooseSize = this.chooseSize.bind(this);\r\n    }\r\n\r\n    changeLocation(xCoordinate, yCoordinate) {\r\n        this.xCoordinate = xCoordinate;\r\n        this.yCoordinate = yCoordinate;\r\n    }\r\n\r\n    chooseItem() {\r\n    }\r\n\r\n    chooseSize() {\r\n    }\r\n}\r\n\r\nexport class Table extends ChartItem {\r\n    constructor(props) {\r\n        super(props);\r\n        this.seats = parseInt(props.seats);\r\n        this.guests = props.guests;\r\n        this.availableSeats = parseInt(props.availableSeats);\r\n        this.tableId = props.tableId;\r\n    }\r\n}\r\n","import {User, Guest} from \"./User\";\r\nimport {Event} from \"./event\";\r\nimport {Table} from \"./ChartItems\";\r\n\r\nconst randomize = require(\"randomatic\");\r\n\r\nfunction callAuthenticate(state) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/login\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"email=\"+state.user+\"&password=\"+state.pass);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callGuestAuthenticate(gID) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/guest-login\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"guest_pin=\"+gID);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callRegister(state) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/register\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"full_name=\"+state.name+\"&email=\"+state.user+\"&password=\"+state.pass);\r\n  return xhr.status;\r\n}\r\n\r\nfunction callGuest(state, curEventPin, guestPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/add-guest\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"full_name=\"+state.name+\"&email=\"+state.email+\"&address=\"+state.address+\"&phone_number=\"+state.phone+\"&event_pin=\"+curEventPin+\"&guest_pin=\"+guestPin);\r\n  return xhr.status;\r\n}\r\n\r\nfunction callDeleteGuest(guestPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/delete-guest\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"guest_pin=\"+guestPin);\r\n  return xhr.status;\r\n}\r\n\r\nfunction callUpdateGuest(state, guestPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/update-guest\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"full_name=\"+state.name+\"&email=\"+state.email+\"&phone_number=\"+state.phone+\"&address=\"+state.address+\"&guest_pin=\"+guestPin);\r\n  return xhr.status;\r\n}\r\n\r\nfunction callGuestList(curEventPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/get-guest-list\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"event_pin=\"+curEventPin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callEvent(state, curUser, pin, pixelLength, pixelWidth) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/add-event\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"planner=\"+curUser+\"&pin=\"+pin+\"&event_name=\"+state.name+\"&event_time=\"\r\n      +state.date+\"&address=\"+state.address+\"&max_people=\"+state.max+\"&layout_length=\"\r\n      +pixelLength+\"&layout_width=\"+pixelWidth);\r\n  return xhr.status;\r\n}\r\n\r\nfunction callDeleteEvent(eventPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/delete-event\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"event_pin=\"+eventPin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callSingleEvent(eventPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/get-event\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"event_pin=\"+eventPin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callEventList(curUser) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/get-event-list\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"planner=\"+curUser);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callGuestGroup(guestPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/get-guest-group\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"guest_pin=\"+guestPin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callSaveLayout(itemList, event_pin) {\r\n   let xhr = new XMLHttpRequest();\r\n   xhr.open(\"POST\", \"http://localhost:5000/api/save-layout\", false);\r\n   xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n   xhr.send(\"name=\"+itemList.name+\"&xCoordinate=\"+itemList.xCoordinate\r\n       +\"&yCoordinate=\"+itemList.yCoordinate+\"&height=\"+itemList.height+\"&width=\"+itemList.width\r\n       +\"&seats=\"+itemList.seats+\"&availableSeats=\"+itemList.availableSeats\r\n       +\"&event_pin=\"+event_pin+\"&table_id=\"+itemList.tableId);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callSaveGuestLayout(table_id, guest_pin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/save-guest-layout\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"table_id=\"+table_id+\"&guest_pin=\"+guest_pin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callItemList(curEventPin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/get-item-list\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"event_pin=\"+curEventPin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n\r\nfunction callAddGuestTable(tableId, guest_pin) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\", \"http://localhost:5000/api/add-guest-table\", false);\r\n  xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  xhr.send(\"table_id=\"+tableId+\"&guest_pin=\"+guest_pin);\r\n  return [xhr.status, xhr.responseText];\r\n}\r\n// post calls ^^^^^^^^^^ --> for testing you need to change:\r\n// 35.243.169.229 to localhost in order to get from the test db (all calls)\r\n// remember to change it back when pushing\r\n\r\n// functions to ls vvvvvvvvv\r\n\r\nexport function validatePlanner(state, storage) {\r\n    if (state.user !== \"\" && state.pass !== \"\") {\r\n        let authCode = callAuthenticate(state);\r\n        if (authCode[0] !== 200) {\r\n          if (authCode[0] === 204 || authCode[0] === 205) { // email or password are wrong\r\n            return [false, 'Invalid email or password']\r\n          } else { // error sending query 400\r\n            return [false, 'Error has occured']\r\n          }\r\n        }\r\n        let data = JSON.parse(authCode[1]);\r\n        if (authCode[0] === 200) { // account exists\r\n          let newUser = new User(state.user, data.results);\r\n          storage.setUser(newUser);\r\n          return [true];\r\n        }\r\n    } else {\r\n        return [false, 'Please fill in all fields'];\r\n    }\r\n}\r\n\r\nexport function validateGuest(state, storage) {\r\n    if (state.gID !== \"\" && state.gID.length === 10) {\r\n        let guestAuthCode = callGuestAuthenticate(state.gID);\r\n        if (guestAuthCode[0] === 200) { // guest account exists\r\n          let data = JSON.parse(guestAuthCode[1]);\r\n          let newGuest = new Guest(data.results[0].email, data.results[0].full_name, data.results[0].address,\r\n            data.results[0].phone_number, data.results[0].guest_pin, data.results[0].event_pin);\r\n          storage.setUser(newGuest);\r\n          return [true];\r\n        } else if (guestAuthCode[0] === 205) { // wrong guest pin\r\n          return [false, 'Invalid Guest ID']\r\n        } else { // error sending query 400\r\n          return [false, 'Error has occured']\r\n        }\r\n    } else {\r\n        return [false, 'Invalid Guest ID'];\r\n    }\r\n}\r\n\r\nexport function registerPlanner(state, storage) {\r\n    let emailFormat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,24})+$/;\r\n    let passFormat = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/;\r\n\r\n    if (state.pass !== state.repass) {\r\n      return [false, 'Passwords do not match']\r\n    } else if (!state.user.match(emailFormat)) {\r\n        return [false, `${state.user} is not a valid email address`]\r\n    } else if (!state.pass.match(passFormat)){\r\n        return [false, 'Passwords must be at least 8 characters long; contain at least 1 lower case letter [a-z]; at least 1 upper case letter [A-Z]; at least 1 number [0-9]']\r\n    } else if (state.name !== \"\" && state.user !== \"\" && state.pass !== \"\" && state.repass !== \"\"){\r\n        let authCode = callAuthenticate(state);\r\n        if (authCode === 200 || authCode === 204) { // email with password already exists\r\n          return [false, `An account already exists for ${state.user}`]\r\n        } else if (authCode === 205) { // email does not exist\r\n            let registerCode = callRegister(state);\r\n            if (registerCode === 200) {\r\n              let newUser = new User(state.user);\r\n              storage.setUser(newUser);\r\n              return [true];\r\n            } else { // error sending query 400\r\n                  return [false, 'Error has occurred']\r\n            }\r\n        } else { // error sending query 400\r\n           return [false, 'Error has occurred']\r\n        }\r\n    } else {\r\n        return [false, 'Please fill in all fields']\r\n    }\r\n}\r\n\r\nexport function addGuest(state, curEventPin) {\r\n  let guestPin = curEventPin + randomize('Aa0', 5);\r\n  let addGuestCode = callGuest(state, curEventPin, guestPin);\r\n  if (addGuestCode === 200) { // event added successfully\r\n    let newGuest = new Guest(state.email, state.name, state.address, state.phone, guestPin, curEventPin, '');\r\n    return [true, newGuest];\r\n  } else {\r\n    return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function deleteGuest(guestId) {\r\n  let deleteGuestCode = callDeleteGuest(guestId);\r\n  if (deleteGuestCode === 200) {// guest deleted successfully\r\n    return [true];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function updateGuest(state, guestId) {\r\n  let updateGuestCode = callUpdateGuest(state, guestId);\r\n  if (updateGuestCode === 200) {// guest deleted successfully\r\n    return [true];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function getGuestList(curEventPin) {\r\n  let guestListCode = callGuestList(curEventPin);\r\n  if (guestListCode[0] === 200) {\r\n    let data = JSON.parse(guestListCode[1]);\r\n    let guests = [];\r\n    for (let i = 0; i < data.length; i++) {\r\n      guests.push(new Guest(data.results[i].email, data.results[i].full_name, data.results[i].address,\r\n        data.results[i].phone_number, data.results[i].guest_pin, data.results[i].event_pin, data.results[i].table_id));\r\n    }\r\n    return [true, guests];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function addEvent(state, curUser) {\r\n  let pin = randomize('Aa0', 5);\r\n  // Converts width and length from feet into pixels at a rate of 1.5 pixels per foot\r\n  let pixelLength = state.length * 10;\r\n  let pixelWidth = state.width * 10;\r\n  let addEventCode = callEvent(state, curUser, pin, pixelLength, pixelWidth);\r\n  if (addEventCode === 200) { // event added successfully\r\n    let newEvent = new Event(state.name, pin, state.address,\r\n        state.date, state.max, pixelLength, pixelWidth);\r\n    return [true, newEvent];\r\n  } else {\r\n    return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function deleteEvent(eventPin) {\r\n  let deleteEventCode = callDeleteEvent(eventPin);\r\n  if (deleteEventCode[0] === 200) { // event deleted successfully\r\n    return [true];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function getSingleEvent(eventPin) {\r\n  let eventCode = callSingleEvent(eventPin);\r\n  if (eventCode[0] === 200) {\r\n    let data = JSON.parse(eventCode[1]);\r\n    let newEvent = new Event(data.results[0].event_name, data.results[0].event_pin,\r\n        data.results[0].address, data.results[0].event_time, data.results[0].max_people,\r\n        data.results[0].layout_length, data.results[0].layout_width);\r\n    return [true, newEvent];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function getEventList(curUser) {\r\n  let eventListCode = callEventList(curUser.userName);\r\n  if (eventListCode[0] === 200) {\r\n    let data = JSON.parse(eventListCode[1]);\r\n    let events = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n          events.push(new Event(\r\n              data.results[i].event_name, data.results[i].event_pin,\r\n              data.results[i].address, data.results[i].event_time,\r\n              data.results[i].max_people, data.results[i].layout_length,\r\n              data.results[i].layout_width));\r\n      }\r\n\r\n    return [true, events];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function getGuestGroup(guestPin) {\r\n  let groupCode = callGuestGroup(guestPin);\r\n  if (groupCode[0] === 200) {\r\n    let data = JSON.parse(groupCode[1]);\r\n    let group = data.group_name;\r\n    return [true, group];\r\n  } else {\r\n      return [false];\r\n  }\r\n}\r\n\r\nexport function getItemList(curEventPin) {\r\n    var itemCode = callItemList(curEventPin);\r\n    if (itemCode[0] === 200) {\r\n      let data = JSON.parse(itemCode[1]);\r\n      let tables = [];\r\n      var guests = [];\r\n      for (var i = 0; i < data.results.length; i++) {\r\n          guests[i] = [];\r\n          for (let j = 0; j < data.guests.length; j++) {\r\n              if (data.guests[j].table_id === data.results[i].table_id) {\r\n                guests[i].push({full_name: data.guests[j].full_name, guest_pin: data.guests[j].guest_pin});\r\n              }\r\n          }\r\n          tables.push(new Table({name:data.results[i].name,\r\n              xCoordinate:data.results[i].xCoordinate, yCoordinate:data.results[i].yCoordinate,\r\n              height:data.results[i].height, width:data.results[i].width,\r\n              seats:data.results[i].seats, guests:guests[i], availableSeats: data.results[i].available_seats,\r\n              tableId:data.results[i].table_id}));\r\n      }\r\n      return [true, tables];\r\n    } else {\r\n        return [false, 'Error has occurred'];\r\n    }\r\n}\r\n\r\nexport function pushLayout(itemList, event_pin) {\r\n  var pushCode;\r\n  var guestCode;\r\n  for (let i = 0; i < itemList.length; i++) {\r\n    pushCode = callSaveLayout(itemList[i], event_pin);\r\n    for (let j = 0; j < itemList[i].guests.length; j++) {\r\n       guestCode = callSaveGuestLayout(itemList[i].tableId, itemList[i].guests[j].guest_pin);\r\n       if (guestCode[0] !== 200)\r\n        break;\r\n    }\r\n    if (pushCode[0] !== 200)\r\n      break;\r\n  }\r\n  if (pushCode[0] === 200) {\r\n    return [true];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n\r\nexport function addGuestTable(tableId, guest_pin) {\r\n  var addCode;\r\n  addCode = callAddGuestTable(tableId, guest_pin);\r\n  if (addCode[0] === 200) {\r\n    return [true];\r\n  } else {\r\n      return [false, 'Error has occurred'];\r\n  }\r\n}\r\n","import React from 'react';\r\nimport '../../SeatPlanner.css';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {validatePlanner, validateGuest} from \"../../services/Validator\";\r\n\r\n\r\nexport class LoginBox extends React.Component {\r\n    render() {\r\n\r\n        return (\r\n            <div id = \"wrapperbox\">\r\n                <div id = \"welcome\">\r\n                    <h1>Welcome to Best Fit Seating<br/>Are you here as an Event Planner or as a Guest?</h1>\r\n                </div>\r\n                <div id = \"loginbox\">\r\n                    <PlannerLogin history = {this.props.history} storage = {this.props.storage}/>\r\n                    <GuestLogin history = {this.props.history} storage = {this.props.storage}/>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport class GuestLogin extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {gID: '', error: \"guestError\"};\r\n\r\n        this.changeGID = this.changeGID.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    changeGID(event) {\r\n        if (event.target.value.length > 10) {\r\n            this.setState({gID: event.target.value.substr(0,10)});\r\n        } else {\r\n            this.setState({gID: event.target.value});\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        let validated = validateGuest(this.state, this.props.storage);\r\n        if (validated[0]) {\r\n    \t\t\tthis.props.history.push('/guest');\r\n    \t\t} else {\r\n            this.setState({error: 'loginError'});\r\n            this.setState({errorMessage: validated[1]});\r\n        }\r\n    }\r\n\r\n    render () {\r\n\r\n        return (\r\n            <div className='box' id= 'guestLogin'>\r\n                <h2>Login as Guest</h2>\r\n                <form onSubmit= {this.handleSubmit}>\r\n                    <div className='infoBox'>\r\n                        <input type= 'text' className='textBox' id='guestID'\r\n                               placeholder='Unique Guest ID' value={this.state.gID} onChange={this.changeGID} />\r\n                        <div className='loginError' id={this.state.error}>\r\n                            {this.state.errorMessage}\r\n                        </div>\r\n                    </div>\r\n                    <input type='submit' className='button' id='guest' value='CONTINUE' />\r\n                </form>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport class PlannerLogin extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {user:'', pass:'', error:'plannerError'};\r\n\r\n        this.changeUser = this.changeUser.bind(this);\r\n        this.changePass = this.changePass.bind(this);\r\n        this.handleRegister = this.handleRegister.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    changeUser(event) {\r\n        this.setState({user: event.target.value});\r\n    }\r\n\r\n    changePass(event) {\r\n        this.setState({pass: event.target.value});\r\n    }\r\n\r\n    handleRegister(event) {\r\n        event.preventDefault();\r\n        this.props.history.push('/register');\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        let validated = validatePlanner(this.state, this.props.storage);\r\n        if (validated[0]) {\r\n    \t\t\tthis.props.history.push('/events');\r\n    \t\t} else {\r\n            this.setState({error: 'loginError'});\r\n            this.setState({errorMessage: validated[1]});\r\n        }\r\n    }\r\n\r\n    render () {\r\n\r\n        return (\r\n            <div className= 'box' id= 'plannerLogin'>\r\n                <h2>Login as Planner</h2>\r\n                <form data-testid=\"plannerLoginForm\" onSubmit={this.handleSubmit}>\r\n                    <div className='infoBox'>\r\n                        <input data-testid={this.state.user} type='text' className='textBox' id='email' required\r\n                               placeholder='E-mail' value={this.state.user} onChange={ this.changeUser} />\r\n                        <input data-testid={this.state.pass} type='password' className='textBox' id='pass' required\r\n                               placeholder='Password' value ={this.state.pass} onChange={this.changePass} />\r\n                        <div className='loginError' id={this.state.error}>\r\n                            {this.state.errorMessage}\r\n                        </div>\r\n                    </div>\r\n                    <div id='newRegister' onClick={this.handleRegister}>\r\n                        New User? Click Here to Register\r\n                    </div>\r\n                    <input type='submit' className='button' id='planner' value='LOGIN' />\r\n                </form>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default withRouter(LoginBox);\r\n","import React from 'react';\r\nimport '../../SeatPlanner.css';\r\nimport {withRouter} from \"react-router-dom\"\r\nimport {registerPlanner} from \"../../services/Validator\";\r\n\r\nclass RegisterBox extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {name: '', user:'', pass:'', repass:'', error:'plannerError', errorMessage:\"Invalid Registration\"};\r\n\r\n\t\tthis.changeName = this.changeName.bind(this);\r\n\t\tthis.changeUser = this.changeUser.bind(this);\r\n\t\tthis.changePass = this.changePass.bind(this);\r\n\t\tthis.changeRepass = this.changeRepass.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t}\r\n\r\n\tchangeName(event) {\r\n\t\t\tthis.setState({name: event.target.value});\r\n\t}\r\n\r\n\tchangeUser(event) {\r\n\t\t\tthis.setState({user: event.target.value});\r\n\t}\r\n\r\n\tchangePass(event) {\r\n\t\t\tthis.setState({pass: event.target.value});\r\n\t}\r\n\r\n\tchangeRepass(event) {\r\n\t\t\tthis.setState({repass: event.target.value});\r\n\t}\r\n\r\n\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlet registered = registerPlanner(this.state, this.props.storage);\r\n\t\tif (registered[0]) {\r\n\t\t\tthis.props.history.push('/events');\r\n\t\t} else {\r\n\t\t\tthis.setState({error: 'loginError'});\r\n\t\t\tthis.setState({errorMessage: registered[1]});\r\n\t\t}\r\n\t\tconsole.log(registered[0]);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className='userMain' id = 'wrapperbox'>\r\n\t\t\t\t<form id='registerBox' onSubmit={this.handleSubmit}>\r\n        \t\t\t<h1 id='registerTitle'>Account Information</h1>\r\n        \t\t\t<div id='inputs'>\r\n          \t\t\t\t<input type='text' className='textBox' id='firstName' required placeholder='Full Name'\r\n\t\t\t\t\t\t\t\t\t\t\t\t value ={this.state.name} onChange={this.changeName}/>\r\n          \t\t\t\t<input type='text' className='textBox' id='e-mail' required placeholder='E-mail Address'\r\n\t\t\t\t\t\t\t\t\t\t\t\t value={this.state.user} onChange={ this.changeUser}/>\r\n          \t\t\t\t<input type='password' className='textBox' id='password' required placeholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t value ={this.state.pass} onChange={this.changePass}/>\r\n          \t\t\t\t<input type='password' className='textBox' id='re_password' required placeholder='Re-Enter Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue ={this.state.repass} onChange={this.changeRepass}/>\r\n\t\t\t\t\t\t\t\t\t<div className='loginError' id={this.state.error} >\r\n\t\t\t\t\t\t\t\t\t\t{this.state.errorMessage}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n        \t\t\t<input type='submit' className='button' id='newUser' value='Create Account' />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n}\r\n\r\nexport default withRouter(RegisterBox);\r\n","import React from 'react';\r\n\r\nexport class Navigation extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.handleEventPage = this.handleEventPage.bind(this);\r\n\t}\r\n\r\n\thandleEventPage(event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.history.push(this.props.towhere);\r\n\t}\r\n\r\n    render(){\r\n        return(\r\n          <div className='button' id=\"navigation\" onClick={this.handleEventPage}>\r\n              {this.props.text}\r\n          </div>\r\n        );\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport '../../SeatPlanner.css';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Navigation} from '../../services/navigation.js';\r\n\r\nclass CreateGuest extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.props.storage.setGuest(undefined);\r\n\t\tthis.openGuestDialog = this.openGuestDialog.bind(this);\r\n\t\tthis.openItemDialog = this.openItemDialog.bind(this);\r\n\t\tthis.saveLayout = this.saveLayout.bind(this);\r\n\t\tthis.handleDelete = this.handleDelete.bind(this);\r\n\t\tthis.changeSearch = this.changeSearch.bind(this);\r\n\t\tthis.updateGuests = this.updateGuests.bind(this);\r\n\t\tthis.removeGuest = this.removeGuest.bind(this);\r\n\t\tthis.updateItems = this.updateItems.bind(this);\r\n\r\n\t\tlet gotGuests = this.props.storage.getGuests();\r\n\t\tif (gotGuests[0]) {\r\n\t\t\t\tthis.state = {\r\n\t\t\t\t\t\tguestList: gotGuests[1],\r\n\r\n                        // List of Guest items\r\n\t\t\t\t\t\tlistItems: [],\r\n\t\t\t\t\t\tdisplayedListItems: [],\r\n                        // List of Chart items\r\n\t\t\t\t\t\titemList: [],\r\n\t\t\t\t\t\tplacedItemList: [],\r\n\t\t\t\t\t\tclicked: 'false',\r\n\t\t\t\t\t\tsearch: '',\r\n\t\t\t\t\t\tcurEvent:this.props.storage.getEvent(),\r\n\t\t\t\t\t\t// default values, almost immediately changed\r\n\t\t\t\t\t\tlayoutWidth: 900,\r\n\t\t\t\t\t\tlayoutHeight: 750\r\n\t\t\t\t};\r\n\t\t\t\tfor (let i = 0; i < this.state.guestList.length; i++) {\r\n\t\t\t\t\t\tthis.state.listItems.push(\r\n\t\t\t\t\t\t\t\t<GuestItem\r\n\t\t\t\t\t\t\t\t\t\tKey={this.state.guestList[i].guestId}\r\n\t\t\t\t\t\t\t\t\t\tGuest={this.state.guestList[i]}\r\n\t\t\t\t\t\t\t\t\t\tguestName={this.state.guestList[i].name}\r\n\t\t\t\t\t\t\t\t\t\tguestEmail={this.state.guestList[i].userName}\r\n\t\t\t\t\t\t\t\t\t\tguestPhone={this.state.guestList[i].phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\tguestAddress={this.state.guestList[i].address}\r\n\t\t\t\t\t\t\t\t\t\tguestId={this.state.guestList[i].guestId}\r\n\t\t\t\t\t\t\t\t\t\tstorage={this.props.storage}\r\n\t\t\t\t\t\t\t\t\t\thistory={this.props.history}\r\n                                        removeGuest={this.removeGuest}\r\n\t\t\t\t\t\t\t\t/>);\r\n\t\t\t\t}\r\n\t\t} else {\r\n\t\t\t\tthis.state = {\r\n\t\t\t\t\t\tguestList: [],\r\n\r\n                        // List of Guest Items\r\n\t\t\t\t\t\tlistItems: [],\r\n\t\t\t\t\t\tdisplayedListItems: [],\r\n                        // List of Chart Items\r\n\t\t\t\t\t\titemList: [],\r\n\t\t\t\t\t\tplacedItemList: [],\r\n\t\t\t\t\t\tclicked: 'false',\r\n\t\t\t\t\t\tcurEvent:this.props.storage.getEvent(),\r\n\t\t\t\t\t\tsearch: '',\r\n\t\t\t\t\t\t// default values, almost immediately changed\r\n\t\t\t\t\t\tlayoutWidth: 900,\r\n\t\t\t\t\t\tlayoutHeight: 750\r\n\t\t\t\t};\r\n\t\t}\r\n\r\n\t\tlet gotItems = this.props.storage.getItems();\r\n\t\tif (gotItems[0]) {\r\n\t\t\tthis.state.itemList = gotItems[1];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.state.itemList.length; i++) {\r\n\t\t\tlet newItem;\r\n\t\t\tconsole.log(this.state.itemList.length);\r\n\t\t\tif (this.state.itemList[i].name.includes(\"Table\")) {\r\n\t\t\t\tnewItem = <Table item={this.state.itemList[i]} storage={this.props.storage} />\r\n\t\t\t} else {\r\n\t\t\t\tnewItem = <ChartItem item={this.state.itemList[i]} storage={this.props.storage} />\r\n\t\t\t}\r\n\t\t\tthis.state.placedItemList.push(newItem);\r\n\t\t}\r\n\t\tthis.state.displayedListItems = this.state.listItems;\r\n\t\tthis.state.layoutWidth = this.state.curEvent.layout_width;\r\n\t\tthis.state.layoutHeight = this.state.curEvent.layout_length;\r\n\r\n\t}\r\n\r\n\topenItemDialog() {\r\n\t\tlet dialog = document.getElementsByClassName('itemDialog');\r\n\t\tdialog[0].id=\"openDialog\";\r\n\t}\r\n\r\n\topenGuestDialog() {\r\n\t\tlet dialog = document.getElementsByClassName('guestDialog');\r\n\t\tdialog[0].id=\"openDialog\";\r\n\t}\r\n\r\n\tsaveLayout(event) {\r\n\t\tevent.preventDefault();\r\n\t\tif (window.confirm(\"Do you want to save changes?\") === true) {\r\n\t\t\t  let save = this.props.storage.saveLayout();\r\n\t\t\t\tif (save) {\r\n\t\t\t\t\talert(\"Layout was successfully saved!\");\r\n\t\t\t\t}\r\n\t\t} else {\r\n\t\t\t// do nothing\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSearch(event) {\r\n\t\tthis.setState({search: event.target.value}, () => {\r\n\t\t\tlet filtered = this.state.listItems.filter(\r\n\t\t\t\tguest => guest.props.Guest.name.toLowerCase().includes(this.state.search.toLowerCase())\r\n\t\t\t);\r\n\t\t\tthis.setState({displayedListItems: filtered});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateGuests() {\r\n\r\n        this.setState({guestList: this.props.storage.getGuests()[1]}, () => {\r\n\t\t\tlet guest = this.props.storage.lastAddedGuest;\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tlistItems: [...prevState.listItems, <GuestItem\r\n\t\t\t\t\tKey={guest.guestId}\r\n\t\t\t\t\tGuest={guest}\r\n\t\t\t\t\tguestName={guest.name}\r\n\t\t\t\t\tguestEmail={guest.userName}\r\n\t\t\t\t\tguestPhone={guest.phoneNumber}\r\n\t\t\t\t\tguestAddress={guest.address}\r\n\t\t\t\t\tguestId={guest.guestId}\r\n\t\t\t\t\tstorage={this.props.storage}\r\n\t\t\t\t\thistory={this.props.history}\r\n                    removeGuest={this.removeGuest}\r\n\t\t\t\t/>].sort(function (guest1, guest2) {\r\n\t\t\t\t\treturn guest1.props.Guest.name.localeCompare(guest2.props.Guest.name);\r\n\t\t\t\t})\r\n\t\t\t}), () => {\r\n\t\t\t\tlet filtered = this.state.listItems.filter(\r\n\t\t\t\t\tguest => guest.props.Guest.name.toLowerCase().includes(this.state.search.toLowerCase())\r\n\t\t\t\t);\r\n\t\t\t\tthis.setState({displayedListItems: filtered});\r\n\t\t\t});\r\n\t\t});\r\n    }\r\n\r\n    removeGuest(removedGuestKey) {\r\n        this.setState({guestList: this.props.storage.getGuests()[1]}, () => {\r\n\r\n            let filtered = this.state.listItems;\r\n            for (let i = 0; i < filtered.length; i++) {\r\n            \tif (filtered[i].props.Key === removedGuestKey) {\r\n            \t\tfiltered.splice(i, 1);\r\n            \t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n            this.setState({listItems: filtered}, () => {\r\n\t\t\t\tlet displayFiltered = this.state.listItems.filter(\r\n\t\t\t\t\tguest => guest.props.Guest.name.toLowerCase().includes(this.state.search.toLowerCase())\r\n\t\t\t\t);\r\n\t\t\t\tthis.setState({displayedListItems: displayFiltered});\r\n\t\t\t});\r\n        })\r\n    }\r\n\r\n    updateItems() {\r\n\r\n        this.setState({itemList: this.props.storage.getItems()[1]}, () => {\r\n\t\t\tlet listLength = this.state.itemList.length;\r\n\t\t\tlet newItem;\r\n\t\t\tif (this.state.itemList[listLength - 1].name.includes(\"Table\")) {\r\n\t\t\t\tnewItem = <Table item={this.state.itemList[listLength - 1]} storage = {this.props.storage} />\r\n\t\t\t} else {\r\n\t\t\t\tnewItem = <ChartItem item={this.state.itemList[listLength - 1]} storage = {this.props.storage}/>\r\n\t\t\t}\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tplacedItemList: [...prevState.placedItemList, newItem]}));\r\n\t\t});\r\n    }\r\n\r\n\thandleDelete() {\r\n\t\tif (window.confirm(\"Are you sure you want to delete the event: \" + this.state.curEvent.name + \" ?\\nThis will delete its preferences and guests attached to this event.\") === true) {\r\n\t\t\t\tlet deleted = this.props.storage.deleteEvent();\r\n\t\t\t\tif (deleted) {\r\n\t\t\t\t\talert(\"Event deleted!\");\r\n\t\t\t\t\tthis.props.history.push(\"/events\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"Error deleting event\");\r\n\t\t\t\t}\r\n\t\t} else {\r\n\t\t\t// do nothing\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"wrapperbox\">\r\n\t\t\t\t<div id = \"welcome\">\r\n\t\t\t\t\t<Navigation history={this.props.history} towhere={\"/events\"} text={\"Events\"} />\r\n\t\t\t\t\t<div className='button' id='deleteEvent' onClick={this.handleDelete}>\r\n\t\t\t\t\t\t\tDelete Event\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1>{this.state.curEvent.name}</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"chartPlanner\">\r\n\t\t\t\t\t<div id=\"seatingChart\">\r\n\t\t\t\t\t\t<Layout height={this.state.layoutHeight} width={this.state.layoutWidth}\r\n                                storage={this.props.storage} itemList={this.state.placedItemList}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"chartItems\">\r\n\t\t\t\t\t\t<input type='submit' className='button' id='add_table' value='Add Table' onClick={() => this.openItemDialog()}/>\r\n\t\t\t\t\t\t<input type='submit' className='button' id='save_layout' value='Save Layout' onClick={this.saveLayout}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"sidebar\">\r\n\t\t\t\t\t<div id=\"search\">\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"textBox\" id=\"searchBox\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search...\" onChange={this.changeSearch}/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"list\">\r\n\t\t\t\t\t\t<ul id=\"guestList\">{this.state.displayedListItems}</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"add\">\r\n\t\t\t\t\t\t<input type='submit' className='button' id='add_guest' value='Add Guest' onClick={() => this.openGuestDialog()}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"properties\">\r\n\t\t\t\t\t\t<div id=\"itemProperties\">\r\n\t\t\t\t\t\t\t<p><label>Item properties</label></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"roomProperties\">\r\n\t\t\t\t\t\t\t<p><label><b>Room properties:</b></label></p>\r\n\t\t\t\t\t\t\t<p><label>Length: {Math.floor(parseInt(this.state.curEvent.layout_length) / 10)}ft.</label></p>\r\n\t\t\t\t\t\t\t<p><label>Width: {Math.floor(parseInt(this.state.curEvent.layout_width) / 10)}ft.</label></p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<GuestDialog storage={this.props.storage} updateGuests={this.updateGuests} />\r\n\t\t\t\t<ItemDialog storage={this.props.storage} updateItems={this.updateItems} />\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n}\r\n\r\nclass GuestItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\t\t\t\tthis.state = {\r\n\t\t\t\t\t\tname: this.props.guestName,\r\n\t\t\t\t\t\temail: this.props.guestEmail,\r\n\t\t\t\t\t\tphone: this.props.guestPhone,\r\n\t\t\t\t\t\taddress: this.props.guestAddress,\r\n                        guestId: this.props.Guest.guestId\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.changeName = this.changeName.bind(this);\r\n\t\t\t\tthis.changeEmail = this.changeEmail.bind(this);\r\n\t\t\t\tthis.changeAddress = this.changeAddress.bind(this);\r\n\t\t\t\tthis.changePhone = this.changePhone.bind(this);\r\n\t\t\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\t\t\tthis.openDialog = this.openDialog.bind(this);\r\n\t\t\t\tthis.closeDialog = this.closeDialog.bind(this);\r\n\t\t\t\tthis.disableForm = this.disableForm.bind(this);\r\n\t\t\t\tthis.enableForm = this.enableForm.bind(this);\r\n\t\t\t\tthis.deleteForm = this.deleteForm.bind(this);\r\n\t\t\t\tthis.cancelForm = this.cancelForm.bind(this);\r\n    }\r\n\r\n\t\tchangeName(event) {\r\n\t\t\tthis.setState({name: event.target.value});\r\n\t\t}\r\n\r\n\t\tchangeEmail(event) {\r\n\t\t\tthis.setState({email: event.target.value});\r\n\t\t}\r\n\r\n\t\tchangeAddress(event) {\r\n\t\t\tthis.setState({address: event.target.value});\r\n\t\t}\r\n\r\n\t\tchangePhone(event) {\r\n\t\t\tthis.setState({phone: event.target.value});\r\n\t\t}\r\n\r\n\t\topenDialog() {\r\n\t\t\tthis.props.storage.setGuest(this.props.Guest);\r\n\t\t\tdocument.getElementById(this.props.Key).style.display = 'block';\r\n\t\t}\r\n\r\n\t\tcloseDialog() {\r\n\t\t\tthis.disableForm();\r\n\t\t\tthis.cancelForm();\r\n\t\t\tthis.props.storage.resetGuest();\r\n\t\t\tdocument.getElementById(this.props.Key).style.display = 'none';\r\n\t\t}\r\n\r\n\t\tdeleteForm() {\r\n\t\t\tlet curGuest = this.props.storage.getGuest();\r\n\t\t\tif (window.confirm(\"Are you sure you want to delete the guest: \" + curGuest.guestId + \" ?\") === true) {\r\n\t\t\t\t\tlet deleted = this.props.storage.deleteGuest();\r\n\t\t\t\t\tif (deleted) {\r\n\t\t\t\t\t\tthis.closeDialog();\r\n\t\t\t\t\t\tthis.props.removeGuest(this.state.guestId);\r\n\t\t\t\t\t\talert(\"Guest deleted!\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"Error deleting guest\");\r\n\t\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcancelForm() {\r\n\t\t\tthis.disableForm();\r\n\t\t\tthis.setState({name: this.props.guestName});\r\n\t\t\tthis.setState({email: this.props.guestEmail});\r\n\t\t\tthis.setState({phone: this.props.guestPhone});\r\n\t\t\tthis.setState({address: this.props.guestAddress});\r\n\t\t}\r\n\r\n\t\tdisableForm() {\r\n\t\t\tlet inputForm = document.getElementsByClassName('textFormBox');\r\n\t\t\tfor (let i = 0; i < inputForm.length; i++) {\r\n    \t\tinputForm[i].disabled = true;\r\n\t\t\t\tinputForm[i].id = \"disabled\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tenableForm() {\r\n\t\t\tlet inputForm = document.getElementsByClassName('textFormBox');\r\n\t\t\tfor (let i = 0; i < inputForm.length; i++) {\r\n    \t\tinputForm[i].disabled = false;\r\n    \t\tinputForm[i].id = \"enabled\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleSubmit(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlet curGuest = this.props.storage.getGuest();\r\n\t\t\tif (window.confirm(\"Do you want to save changes?\") === true) {\r\n\t\t\t\t\tlet updated = this.props.storage.updateGuest(this.state);\r\n\t\t\t\t\tif (updated) {\r\n\t\t\t\t\t\tthis.closeDialog();\r\n\t\t\t\t\t\twindow.location.reload(); // for now page reloads to get the updated info.\r\n\t\t\t\t\t\talert(\"Guest info updated!\");\r\n\t\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\t\t}\r\n\r\n    render() {\r\n        return (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div id=\"guestListItem\">\r\n                            <li key={this.props.Key} className='guestItem' value={this.props.guestName}>\r\n                                {this.props.guestName}\r\n            \t            </li>\r\n\t\t\t\t\t\t\t<input type='submit' id='guestItemOpen' value='+' onClick={() => this.openDialog()}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"dialogbox2\" id={this.props.Key}>\r\n\t\t\t\t\t\t\t<dialog open>\r\n\t\t\t\t\t\t\t\t\t<div id=\"closeWindow\">\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' className= \"button2\" id=\"closeButton\" value='X' onClick={() => this.closeDialog()}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div id='guestBoxInfo'>\r\n\t\t\t\t\t\t\t\t\t\t<h1>{this.props.guestName}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<label><b>Guest ID:</b> {this.props.guestId}</label>\r\n\t\t\t\t\t\t\t\t\t\t<form id=\"formGuest\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Name</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"textFormBox\" id=\"disabled\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name} onChange={this.changeName} disabled/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"email\" className=\"textFormBox\" id=\"disabled\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email} onChange={this.changeEmail} disabled/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Phone</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"textFormBox\" id=\"disabled\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.phone} onChange={this.changePhone} disabled/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Address</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"textFormBox\" id=\"disabled\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.address} onChange={this.changeAddress} disabled/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type='submit' className='button' id='guestButtons' value='Save'/>\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' className='button' id='guestButtons' value='Edit' onClick={() => this.enableForm()}/>\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' className='button' id='guestButtons' value='Delete' onClick={() => this.deleteForm()}/>\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' className='button' id='guestButtons' value='Cancel' onClick={() => this.cancelForm()}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div id='guestBoxPreferences'>\r\n\t\t\t\t\t\t\t\t\t\t<h1>Preferences</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div id='guestBoxGroups'>\r\n\t\t\t\t\t\t\t\t\t\t<h1>Groups</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</dialog>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n    }\r\n}\r\n\r\nclass Layout extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.createGrid = this.createGrid.bind(this);\r\n\t}\r\n\r\n\tcreateGrid(height, width) {\r\n\t\tlet table = [];\r\n\r\n\t\t// Outer loop to create parent\r\n\t\tfor (let i = 0; i < Math.floor(height/50); i++) {\r\n\t\t\tlet children = [];\r\n\t\t\t//Inner loop to create children\r\n\t\t\tfor (let j = 0; j < Math.floor(width/50); j++) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare\"/>);\r\n\t\t\t}\r\n\t\t\tif (width % 50 !== 0) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare lastCol\"  style={{width:(width % 50)}}/>);\r\n\t\t\t}\r\n\t\t\t//Create the parent and add the children\r\n\t\t\ttable.push(<tr className=\"layoutRow\">{children}</tr>);\r\n\t\t}\r\n\r\n\t\tif (height % 50 !== 0) {\r\n\t\t\tlet children = [];\r\n\t\t\t//Inner loop to create children\r\n\t\t\tfor (let j = 0; j < Math.floor(width/50); j++) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare lastRow\" style={{height:(height % 50)}} />);\r\n\t\t\t}\r\n\t\t\tif (width % 50 !== 0) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare lastRow lastCol\"  style={\r\n\t\t\t\t\t{width:(width % 50), height:(height % 50)}}/>);\r\n\t\t\t}\r\n\t\t\t//Create the parent and add the children\r\n\t\t\ttable.push(<tr className=\"layoutRow lastRow\">{children}</tr>);\r\n\t\t}\r\n\t\treturn table\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t    <div id=\"layoutWrapper\" style={{width: this.props.width, height:this.props.height}}>\r\n\t\t\t    <table id=\"Layout\" cellSpacing=\"0\" >\r\n\t\t\t\t    {this.createGrid(this.props.height, this.props.width)}\r\n                        {this.props.itemList}\r\n\t\t\t    </table>\r\n\r\n\t\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport class ChartItem extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tname: this.props.name,\r\n\t\t\txCoordinate: parseInt(this.props.item.xCoordinate),\r\n\t\t\tyCoordinate: parseInt(this.props.item.yCoordinate),\r\n\t\t\theight: parseInt(this.props.item.height),\r\n            width: parseInt(this.props.item.width)\r\n\t\t};\r\n\r\n\t\tthis.changeLocation = this.changeLocation.bind(this);\r\n\t\tthis.chooseItem = this.chooseItem.bind(this);\r\n\t\tthis.chooseSize = this.chooseSize.bind(this);\r\n\t}\r\n\r\n\tchangeLocation() {\r\n\t}\r\n\r\n\tchooseItem() {\r\n\t}\r\n\r\n\tchooseSize() {\r\n\t}\r\n}\r\n\r\nexport class Table extends ChartItem {\r\n        constructor(props) {\r\n                super(props);\r\n\t\t\tthis.seatGuest = this.seatGuest.bind(this);\r\n\t\t\tthis.dragMouseDown = this.dragMouseDown.bind(this);\r\n\t\t\tthis.updateGuests = this.updateGuests.bind(this);\r\n                this.state = {\r\n\t\t\t\t\txCoordinate: parseInt(this.props.item.xCoordinate),\r\n\t\t\t\t\tyCoordinate: parseInt(this.props.item.yCoordinate),\r\n                    seats: parseInt(this.props.item.seats),\r\n                    guests: this.props.item.guests,\r\n\t\t\t\t\theight: parseInt(this.props.item.height),\r\n\t\t\t\t\twidth: parseInt(this.props.item.width),\r\n                    tableId: this.props.item.tableId,\r\n\t\t\t\t\tcurEvent:this.props.storage.getEvent(),\r\n\t\t\t\t\tcurTable: this.props.item\r\n                };\r\n        }\r\n\r\n        updateGuests(guests) {\r\n        \tthis.setState({guests: guests}, () => {\r\n\t\t\t\tthis.props.storage.setCurTable(this.state.tableId);\r\n\t\t\t\tthis.setState({curTable:this.props.storage.getCurTable()});\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n        seatGuest() {\r\n        \tthis.props.storage.setCurTable(this.state.tableId);\r\n\t\t\tthis.setState({curTable:this.props.storage.getCurTable()}, () => {\r\n\t\t\t\tlet div = document.getElementsByClassName(this.state.tableId)[0];\r\n\t\t\t\tlet dialog = div.getElementsByClassName('seatDialog');\r\n\t\t\t\tdialog[0].id=\"openDialog\";\r\n\t\t\t});\r\n        }\r\n\r\n        dragMouseDown(event) {\r\n        \tevent.preventDefault();\r\n        \tlet elmnt = document.getElementById(this.state.tableId);\r\n        \tlet posX1 = this.state.xCoordinate,\r\n\t\t\t\tposY1 = this.state.yCoordinate,\r\n\t\t\t\tposX = event.clientX, posY = event.clientY;\r\n\r\n\t\t\tlet newX = elmnt.offsetLeft - posX1,\r\n\t\t\t\tnewY = elmnt.offsetTop - posY1;\r\n\r\n\t\t\tdocument.onmousemove = (event) => {\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tposX1 = posX - event.clientX;\r\n\t\t\t\tposY1 = posY - event.clientY;\r\n\t\t\t\tposX = event.clientX;\r\n\t\t\t\tposY = event.clientY;\r\n\r\n\t\t\t\tnewX = elmnt.offsetLeft - posX1;\r\n\t\t\t\tif (newX < 0) {\r\n\t\t\t\t\tnewX = 0;\r\n\t\t\t\t} else if (newX > (this.state.curEvent.layout_width - this.state.width)) {\r\n\t\t\t\t\t\tnewX = this.state.curEvent.layout_width - this.state.width;\r\n\t\t\t\t}\r\n\t\t\t\telmnt.style.left = newX + \"px\";\r\n\r\n\r\n\t\t\t\tnewY = elmnt.offsetTop - posY1;\r\n\t\t\t\tif (newY < 0) {\r\n\t\t\t\t\tnewY = 0;\r\n\t\t\t\t} else if (newY > (this.state.curEvent.layout_length - this.state.height)) {\r\n\t\t\t\t\tnewY = this.state.curEvent.layout_length - this.state.height;\r\n\t\t\t\t}\r\n\t\t\t\telmnt.style.top = newY + \"px\";\r\n\r\n\t\t\t\telmnt.scrollIntoView({block:\"nearest\", inline:\"nearest\"});\r\n\r\n\t\t\t};\r\n\r\n\t\t\tdocument.onmouseup = () => {\r\n\r\n\t\t\t\t// stop moving when mouse button is released:\r\n\t\t\t\tdocument.onmouseup = null;\r\n\t\t\t\tdocument.onmousemove = null;\r\n\t\t\t\tif (posX1 !== this.state.xCoordinate && posY1 !== this.state.yCoordinate) {\r\n\t\t\t\t\tthis.setState({xCoordinate: newX, yCoordinate: newY}, () => {\r\n\t\t\t\t\t\tthis.props.item.xCoordinate = this.state.xCoordinate;\r\n\t\t\t\t\t\tthis.props.item.yCoordinate = this.state.yCoordinate;\r\n\t\t\t\t\t\tthis.props.storage.updateTableLocation(this.state.tableId, newX, newY);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (posX1 === this.state.xCoordinate && posY1 !== this.state.yCoordinate) {\r\n\t\t\t\t\tthis.setState({yCoordinate: newY}, () => {\r\n\t\t\t\t\t\tthis.props.item.yCoordinate = this.state.yCoordinate;\r\n\t\t\t\t\t\tthis.props.storage.updateTableLocation(this.state.tableId, this.state.xCoordinate, newY);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (posX1 !== this.state.xCoordinate && posY1 === this.state.yCoordinate) {\r\n\t\t\t\t\tthis.setState({xCoordinate: newX}, () => {\r\n\t\t\t\t\t\tthis.props.item.xCoordinate = this.state.xCoordinate;\r\n\t\t\t\t\t\tthis.props.storage.updateTableLocation(this.state.tableId, newX, this.state.yCoordinate);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n        render() {\r\n                return (\r\n\t\t\t\t\t<div className={this.state.tableId}>\r\n                    \t<div className=\"table\" id = {this.state.tableId} style={{\r\n                        \twidth:parseInt(this.props.item.width),\r\n                        \theight:parseInt(this.props.item.height),\r\n                        \ttop:parseInt(this.state.yCoordinate) + \"px\",\r\n                        \tleft:parseInt(this.state.xCoordinate) + \"px\"\r\n                    \t}} onMouseDown={this.dragMouseDown}>\r\n                        \t<input id=\"seat_guest\" type=\"submit\" value=\"+\" onClick={this.seatGuest}/>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<SeatDialog storage={this.props.storage}\r\n\t\t\t\t\t\t\t\t\tcurTable={this.state.curTable}\r\n\t\t\t\t\t\t\t\t\tupdateGuests={this.updateGuests} />\r\n                    </div>\r\n                );\r\n        }\r\n}\r\n\r\nclass GuestDialog extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\temail: '',\r\n\t\t\tphone: '',\r\n\t\t\taddress: '',\r\n\t\t};\r\n\r\n\t\tthis.handleSubmitGuest = this.handleSubmitGuest.bind(this);\r\n\t\tthis.closeGuestDialog = this.closeGuestDialog.bind(this);\r\n\t\tthis.changeName = this.changeName.bind(this);\r\n\t\tthis.changeEmail = this.changeEmail.bind(this);\r\n\t\tthis.changeAddress = this.changeAddress.bind(this);\r\n\t\tthis.changePhone = this.changePhone.bind(this);\r\n\t}\r\n\r\n\tcloseGuestDialog() {\r\n\t\tlet dialog = document.getElementsByClassName('guestDialog');\r\n\t\tdialog[0].id=\"dialogbox\";\r\n\t}\r\n\r\n\tchangeName(event) {\r\n\t\tthis.setState({name: event.target.value});\r\n\t}\r\n\r\n\tchangeEmail(event) {\r\n\t\tthis.setState({email: event.target.value});\r\n\t}\r\n\r\n\tchangeAddress(event) {\r\n\t\tthis.setState({address: event.target.value});\r\n\t}\r\n\r\n\tchangePhone(event) {\r\n\t\tthis.setState({phone: event.target.value});\r\n\t}\r\n\r\n\thandleSubmitGuest(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlet added = this.props.storage.addGuest(this.state);\r\n\t\tif (added[0]) {\r\n            this.props.updateGuests();\r\n\t\t\tthis.closeGuestDialog();\r\n\r\n\t\t} else {\r\n\t\t\tthis.setState({error: 'guestError'});\r\n\t\t\tthis.setState({errorMessage: added[1]});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"guestDialog\" id=\"dialogbox\">\r\n\t\t\t\t<dialog open>\r\n\t\t\t\t\t<div id=\"closeWindow\">\r\n\t\t\t\t\t\t<input type='submit' className=\"button2\" id=\"closeButton\" value='X' onClick={() => this.closeGuestDialog()}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1>Add a Guest</h1>\r\n\t\t\t\t\t<form onSubmit={this.handleSubmitGuest}>\r\n\t\t\t\t\t\t<input type=\"text\" className=\"textBox\" id=\"name\"\r\n\t\t\t\t\t\t\t   placeholder=\"Name\" value ={this.state.name} onChange={this.changeName} required/>\r\n\t\t\t\t\t\t<input type=\"email\" className=\"textBox\" id=\"email\"\r\n\t\t\t\t\t\t\t   placeholder=\"E-mail\" value ={this.state.email} onChange={this.changeEmail} required/>\r\n\t\t\t\t\t\t<input type=\"text\" className=\"textBox\" id=\"phone\"\r\n\t\t\t\t\t\t\t   placeholder=\"Phone Number\" value ={this.state.phone} onChange={this.changePhone} required/>\r\n\t\t\t\t\t\t<input type=\"text\" className=\"textBox\" id=\"address\"\r\n\t\t\t\t\t\t\t   placeholder=\"Address\" value ={this.state.address} onChange={this.changeAddress} required/>\r\n\t\t\t\t\t\t<div className='eventError' id={this.state.error} >\r\n\t\t\t\t\t\t\t{this.state.errorMessage}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"buttonbox\">\r\n\t\t\t\t\t\t\t<input type='submit' className='button' id='add_guest' value='Submit' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ItemDialog extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\theight: '',\r\n\t\t\twidth: '',\r\n\t\t\tnumSeats: ''\r\n\t\t};\r\n\r\n\t\tthis.handleSubmitItem = this.handleSubmitItem.bind(this);\r\n\t\tthis.closeItemDialog = this.closeItemDialog.bind(this);\r\n\t\tthis.changeLength = this.changeLength.bind(this);\r\n\t\tthis.changeWidth = this.changeWidth.bind(this);\r\n\t\tthis.changeNumSeats = this.changeNumSeats.bind(this);\r\n\t}\r\n\r\n\tchangeLength(event) {\r\n\t\tthis.setState({height: event.target.value});\r\n\t}\r\n\r\n\tchangeWidth(event) {\r\n\t\tthis.setState({width: event.target.value});\r\n\t}\r\n\r\n\tchangeNumSeats(event) {\r\n\t\tthis.setState({numSeats: event.target.value});\r\n\t}\r\n\r\n\tcloseItemDialog() {\r\n\t\tthis.setState({height:'', width:'', numSeats:''}, () => {\r\n\t\t\tlet dialog = document.getElementsByClassName('itemDialog');\r\n\t\t\tdialog[0].id=\"dialogbox\";\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmitItem(event) {\r\n\t\tevent.preventDefault();\r\n        event.preventDefault();\r\n        let added = this.props.storage.addTable(this.state);\r\n        if (added[0]) {\r\n            this.closeItemDialog();\r\n\t\t\tthis.props.updateItems();\r\n\r\n        } else {\r\n            this.setState({error: 'tableError'});\r\n            this.setState({errorMessage: added[1]});\r\n        }\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"itemDialog\" id=\"dialogbox\">\r\n\t\t\t\t<dialog open>\r\n\t\t\t\t\t<div id=\"closeWindow\">\r\n\t\t\t\t\t\t<input type='submit' className=\"button2\" id=\"closeButton\" value='X' onClick={() => this.closeItemDialog()}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1>Add a Table</h1>\r\n\t\t\t\t\t<form onSubmit={this.handleSubmitItem}>\r\n\t\t\t\t\t\t<input type=\"number\" className=\"textBox\" id=\"length\"\r\n\t\t\t\t\t\t\t   placeholder=\"Height\" value ={this.state.height} onChange={this.changeLength} required/>ft.\r\n\t\t\t\t\t\t<input type=\"number\" className=\"textBox\" id=\"width\"\r\n\t\t\t\t\t\t\t   placeholder=\"Width\" value ={this.state.width} onChange={this.changeWidth} required/>ft.\r\n\t\t\t\t\t\t<input type=\"number\" className=\"textBox\" id=\"width\"\r\n\t\t\t\t\t\t\t   placeholder=\"Number of Seats\" value ={this.state.numSeats} onChange={this.changeNumSeats} required/>\r\n\t\t\t\t\t\t<div className='eventError' id={this.state.error} >\r\n\t\t\t\t\t\t\t{this.state.errorMessage}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"buttonbox\">\r\n\t\t\t\t\t\t\t<input type='submit' className='button' id='add_table' value='Submit'/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nclass SeatDialog extends React.Component {\r\n        constructor(props) {\r\n                super(props);\r\n\t\t\tthis.handleSubmitSeats = this.handleSubmitSeats.bind(this);\r\n\t\t\tthis.closeSeatDialog = this.closeSeatDialog.bind(this);\r\n\t\t\tthis.selectGuest = this.selectGuest.bind(this);\r\n\t\t\tthis.handleAddGuest = this.handleAddGuest.bind(this);\r\n\t\t\tthis.updateUsableGuests = this.updateUsableGuests.bind(this);\r\n\t\t\tthis.handleRemoveGuest = this.handleRemoveGuest.bind(this);\r\n                this.state = {\r\n                    numSeats: this.props.curTable.numSeats,\r\n\t\t\t\t\tguestList: this.props.storage.getGuestList(),\r\n\t\t\t\t\tcurTable: this.props.curTable,\r\n\t\t\t\t\tselectedGuest: '', // guest_pin\r\n\t\t\t\t\tusableGuests: [],\r\n\t\t\t\t\tseatedGuests: [],\r\n\t\t\t\t\tseatedGuestItems: []\r\n                };\r\n                this.state.seatedGuests = this.props.curTable.guests;\r\n                let list = this.state.seatedGuests.length > 0\r\n\t\t\t\t\t&& this.state.seatedGuests.map((item) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<SeatedGuestItem\r\n\t\t\t\t\t\t\t\tname={item.full_name}\r\n\t\t\t\t\t\t\t\tguestId={item.guest_pin}\r\n\t\t\t\t\t\t\t\thandleRemoveGuest={this.handleRemoveGuest}/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, this);\r\n\t\t\t\tthis.state.seatedGuestItems = list;\r\n\t\t\t\tthis.state.usableGuests = this.state.guestList.length > 0\r\n\t\t\t\t\t&& this.state.guestList.map((item) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option value={item.guestId}>{item.name}</option>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, this);\r\n\r\n        }\r\n\r\n\t\t\t\tselectGuest(event) {\r\n\t\t\t\t\tthis.setState({selectedGuest: event.currentTarget.value});\r\n\t\t\t\t}\r\n\r\n\t\t\t\thandleRemoveGuest(guestId, guestName) {\r\n\t\t\t\t\tif (window.confirm(\"Are you sure you want to remove \" + guestName + \"from this table?\") == true) {\r\n\t\t\t\t\t\tlet newList = this.props.storage.removeGuestTable(this.state.curTable.tableId, guestId);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tseatedGuests: newList.sort(\r\n\t\t\t\t\t\t\t\tfunction (guest1, guest2) {\r\n\t\t\t\t\t\t\t\t\treturn guest1.full_name.localeCompare(guest2.full_name);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\tthis.props.updateGuests(this.state.seatedGuests);\r\n\t\t\t\t\t\t\tlet list = this.state.seatedGuests.length > 0\r\n\t\t\t\t\t\t\t\t&& this.state.seatedGuests.map((item) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<SeatedGuestItem\r\n\t\t\t\t\t\t\t\t\t\t\tname={item.full_name}\r\n\t\t\t\t\t\t\t\t\t\t\tguestId={item.guest_pin}\r\n\t\t\t\t\t\t\t\t\t\t\thandleRemoveGuest={this.handleRemoveGuest}/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t\tthis.setState({seatedGuestItems: list});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t \thandleAddGuest(event) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\tif (this.state.selectedGuest === ''||\r\n\t\t\t\t\t\t\tthis.state.selectedGuest === 'Choose a Guest') {\r\n\t\t\t\t\t\t\talert(\"Please select a guest\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else if (this.state.seatedGuests.length === this.state.numSeats) {\r\n\t\t\t\t\t\t\talert(\"Table Already Full\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet added = this.props.storage.addGuestTable(this.props.curTable, this.state.selectedGuest);\r\n\t\t\t\t\t\tif (added[0]) {\r\n\t\t\t\t\t\t\tthis.setState({seatedGuests:added[1].guests.sort(\r\n\t\t\t\t\t\t\t\tfunction (guest1, guest2) {\r\n\t\t\t\t\t\t\t\t\treturn guest1.full_name.localeCompare(guest2.full_name);\r\n\t\t\t\t\t\t\t\t})}, () => {\r\n\t\t\t\t\t\t\t\tthis.props.updateGuests(this.state.seatedGuests);\r\n\t\t\t\t\t\t\t\tlet list = this.state.seatedGuests.length > 0\r\n\t\t\t\t\t\t\t\t\t&& this.state.seatedGuests.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<SeatedGuestItem\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={item.full_name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tguestId={item.guest_pin}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveGuest={this.handleRemoveGuest}/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t\t\tthis.setState({seatedGuestItems: list});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(added[1]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n        closeSeatDialog(event) {\r\n        \tevent.preventDefault();\r\n        \tthis.props.storage.resetCurTable();\r\n\t\t\tlet div = document.getElementsByClassName(this.props.curTable.tableId)[0];\r\n\t\t\tlet dialog = div.getElementsByClassName('seatDialog');\r\n\t\t\tdialog[0].id=\"dialogbox\";\r\n        }\r\n\r\n        updateUsableGuests() {\r\n\r\n\t\t\tlet list = this.props.storage.getGuests()[1];\r\n\t\t\tif (list.length !== this.state.guestList.length) {\r\n\t\t\t\tthis.setState({guestList: list}, () => {\r\n\t\t\t\t\tlet newList = this.state.guestList.map((item) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option value={item.guestId}>{item.name}</option>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t\tthis.setState({usableGuests: newList});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n        handleSubmitSeats(event) {\r\n                event.preventDefault();\r\n        }\r\n\r\n\r\n        render() {\r\n\r\n\r\n                return (\r\n                        <div className=\"seatDialog\" id=\"dialogbox\">\r\n                                <dialog open>\r\n\t\t\t\t\t\t\t\t\t<div id=\"closeWindow\">\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' className=\"button2\" id=\"closeButton\" value='X' onClick={this.closeSeatDialog}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<h1>{this.props.curTable.name}</h1>\r\n\t\t\t\t\t\t\t\t\t<p>Guests Seated Here: </p>\r\n\t\t\t\t\t\t\t\t\t<ul className=\"seatedGuests\">{this.state.seatedGuestItems}</ul>\r\n\t\t\t\t\t\t\t\t\t<label>Select guest to add to this table: </label>\r\n\t\t\t\t\t\t\t\t\t<select id=\"selectGuest\" onClick={this.updateUsableGuests} onChange={this.selectGuest}>\r\n\t\t\t\t\t\t\t\t\t\t<option> Choose a Guest </option>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.usableGuests}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<div id=\"buttonbox\">\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' className='button' id='add_guest_table' value='Add Guest' onClick={this.handleAddGuest}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                                </dialog>\r\n                        </div>\r\n                );\r\n        }\r\n\r\n}\r\n\r\nclass SeatedGuestItem extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleRemoveGuest = this.handleRemoveGuest.bind(this);\r\n\t}\r\n\r\n\thandleRemoveGuest(event) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.handleRemoveGuest(this.props.guestId, this.props.name);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<li className=\"seatedGuest\" id = {'S' + this.props.guestId}>\r\n\t\t\t\t{this.props.name}\r\n\t\t\t\t<div className='removeGuestButton' onClick={this.handleRemoveGuest}>\r\n\t\t\t\t\tX\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default withRouter(CreateGuest);\r\n","import React from 'react';\r\nimport '../../SeatPlanner.css';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Navigation} from '../../services/navigation.js';\r\n\r\nexport class GuestView extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.props.storage.getSingleEvent();\r\n\r\n      this.state = {\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        address: '',\r\n        curUser: this.props.storage.getUser(),\r\n        curEvent: this.props.storage.getEvent(),\r\n        curGroup: this.props.storage.getGuestGroup(),\r\n        itemList: this.props.storage.getItems()[1],\r\n        placedItemList: [],\r\n        layoutWidth: 900,\r\n        layoutHeight: 750\r\n      };\r\n\r\n      for (let i = 0; i < this.state.itemList.length; i++) {\r\n  \t\t\tlet newItem;\r\n  \t\t\tif (this.state.itemList[i].name.includes(\"Table\")) {\r\n  \t\t\t\tnewItem = <Table item={this.state.itemList[i]}/>\r\n  \t\t\t} else {\r\n  \t\t\t\tnewItem = <ChartItem item={this.state.itemList[i]} />\r\n  \t\t\t}\r\n  \t\t\tthis.state.placedItemList.push(newItem);\r\n  \t\t}\r\n\r\n      this.state.layoutWidth = this.state.curEvent.layout_width;\r\n  \t\tthis.state.layoutHeight = this.state.curEvent.layout_length;\r\n\r\n      this.handleLogout = this.handleLogout.bind(this);\r\n      this.changeName = this.changeName.bind(this);\r\n      this.changeEmail = this.changeEmail.bind(this);\r\n      this.changeAddress = this.changeAddress.bind(this);\r\n      this.changePhone = this.changePhone.bind(this);\r\n      this.openDialog = this.openDialog.bind(this);\r\n      this.closeDialog = this.closeDialog.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleLogout(event) {\r\n        event.preventDefault();\r\n        this.props.storage.clear();\r\n        this.props.history.push(\"/\");\r\n    }\r\n\r\n    changeName(event) {\r\n\t\t\tthis.setState({name: event.target.value});\r\n\t\t}\r\n\r\n\t\tchangeEmail(event) {\r\n\t\t\tthis.setState({email: event.target.value});\r\n\t\t}\r\n\r\n\t\tchangeAddress(event) {\r\n\t\t\tthis.setState({address: event.target.value});\r\n\t\t}\r\n\r\n\t\tchangePhone(event) {\r\n\t\t\tthis.setState({phone: event.target.value});\r\n\t\t}\r\n\r\n\t\topenDialog() {\r\n      this.setState({\r\n        name: this.state.curUser.name,\r\n        email: this.state.curUser.userName,\r\n        phone: this.state.curUser.phoneNumber,\r\n        address: this.state.curUser.address\r\n      });\r\n\t\t\tdocument.getElementById(\"edit_guest\").style.display = 'block';\r\n\t\t}\r\n\r\n\t\tcloseDialog() {\r\n\t\t\tdocument.getElementById(\"edit_guest\").style.display = 'none';\r\n\t\t}\r\n\r\n    handleSubmit(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif (window.confirm(\"Do you want to save changes?\") === true) {\r\n\t\t\t\t\tlet updated = this.props.storage.updateGuestUser(this.state);\r\n\t\t\t\t\tif (updated) {\r\n\t\t\t\t\t\talert(\"Account info updated!\");\r\n\t\t\t\t\t\tthis.closeDialog();\r\n\t\t\t\t\t\twindow.location.reload(true); // for now page reloads to get the updated info.\r\n\t\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\t\t}\r\n\r\n    render() {\r\n        return(\r\n            <div id = \"wrapperbox\">\r\n                <div id = \"welcome\">\r\n                  <div className='button' id='logout' onClick={this.handleLogout}>\r\n                      Logout\r\n                  </div>\r\n                  <h1>Welcome, {this.state.curUser.name}!</h1>\r\n                </div>\r\n\r\n                <div id= 'chartGuest'>\r\n                  <div id=\"seatingChartGuest\">\r\n                  <Layout height={this.state.layoutHeight} width={this.state.layoutWidth}\r\n                                      storage={this.props.storage} itemList={this.state.placedItemList}/>\r\n        \t\t\t\t\t</div>\r\n                </div>\r\n\r\n                <div id= 'guestInfo'>\r\n                  <div className='box' id='guestBox'>\r\n                    <h3>Account Information</h3>\r\n                    <div id= 'guestInformation'>\r\n                      <p>\r\n                        <b>Guest ID: </b>{this.state.curUser.guestId}\r\n                        <input type='submit' className='button2' id='edit' value='EDIT' onClick={() => this.openDialog()}/>\r\n                      </p>\r\n                      <p><b>Name: </b>{this.state.curUser.name}</p>\r\n                      <p><b>Email: </b>{this.state.curUser.userName}</p>\r\n                      <p><b>Phone Number: </b>{this.state.curUser.phoneNumber}</p>\r\n                      <p><b>Address: </b>{this.state.curUser.address}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className='box' id= 'preferencesBox'>\r\n                    <h3>Preferences</h3>\r\n                    <div id='guestPreferences'>\r\n                      <input type=\"text\" className=\"textBox\"\r\n                              id=\"Spouse\" placeholder=\"Spouse\"\r\n                              value ={this.state.spouse}\r\n                              onChange={this.changespouse} required />\r\n                      <input type=\"text\" className=\"textBox\"\r\n                             id=\"exception\" placeholder=\"exception\"\r\n                             value ={this.state.exception}\r\n                             onChange={this.changeException} required />\r\n                    </div>\r\n                  </div>\r\n                  <div className='box' id= 'groupsBox'>\r\n                    <h3>Groups</h3>\r\n                    <div id='guestGroups'>\r\n                      <p><b>Your Event Group: </b>{this.state.curGroup[1]}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className='box' id='eventBox'>\r\n                    <h3>Event Information</h3>\r\n                    <div id= 'eventInformation'>\r\n                      <p><b>Event Name: </b>{this.state.curEvent.name}</p>\r\n                      <p><b>Event Address: </b>{this.state.curEvent.address}</p>\r\n                      <p><b>Event Date/Time: </b>{this.state.curEvent.eventDate}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"dialogbox2\" id=\"edit_guest\">\r\n    \t\t\t\t\t\t\t<dialog open>\r\n    \t\t\t\t\t\t\t\t\t<div id=\"closeWindow\">\r\n    \t\t\t\t\t\t\t\t\t\t<input type='submit' className= \"button2\" id=\"closeButton\" value='X' onClick={() => this.closeDialog()}/>\r\n    \t\t\t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t\t\t\t\t\t<h1>Edit Account Information:</h1>\r\n    \t\t\t\t\t\t\t\t\t\t<form id=\"formGuest\" onSubmit={this.handleSubmit}>\r\n                          <p>\r\n                            <label>Name</label>\r\n                            <input type=\"text\" className=\"textFormBox\"\r\n                              value={this.state.name} onChange={this.changeName}/>\r\n                          </p>\r\n                          <p>\r\n                            <label>Email</label>\r\n                            <input type=\"email\" className=\"textFormBox\"\r\n                              value={this.state.email} onChange={this.changeEmail}/>\r\n                          </p>\r\n                          <p>\r\n                            <label>Phone</label>\r\n                            <input type=\"text\" className=\"textFormBox\"\r\n                              value={this.state.phone} onChange={this.changePhone}/>\r\n                          </p>\r\n                          <p>\r\n                            <label>Address</label>\r\n                            <input type=\"text\" className=\"textFormBox\"\r\n                              value={this.state.address} onChange={this.changeAddress}/>\r\n                          </p>\r\n                          <input type='submit' className='button' id='button' value='Save'/>\r\n    \t\t\t\t\t\t\t\t\t\t</form>\r\n    \t\t\t\t\t\t\t</dialog>\r\n    \t\t\t\t\t\t</div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nclass Layout extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.createGrid = this.createGrid.bind(this);\r\n\t}\r\n\r\n\tcreateGrid(height, width) {\r\n\t\tlet table = [];\r\n\r\n\t\t// Outer loop to create parent\r\n\t\tfor (let i = 0; i < Math.floor(height/50); i++) {\r\n\t\t\tlet children = [];\r\n\t\t\t//Inner loop to create children\r\n\t\t\tfor (let j = 0; j < Math.floor(width/50); j++) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare\"/>);\r\n\t\t\t}\r\n\t\t\tif (width % 50 !== 0) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare lastCol\"  style={{width:(width % 50)}}/>);\r\n\t\t\t}\r\n\t\t\t//Create the parent and add the children\r\n\t\t\ttable.push(<tr className=\"layoutRow\">{children}</tr>);\r\n\t\t}\r\n\r\n\t\tif (height % 50 !== 0) {\r\n\t\t\tlet children = [];\r\n\t\t\t//Inner loop to create children\r\n\t\t\tfor (let j = 0; j < Math.floor(width/50); j++) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare lastRow\" style={{height:(height % 50)}} />);\r\n\t\t\t}\r\n\t\t\tif (width % 50 !== 0) {\r\n\t\t\t\tchildren.push(<td className=\"layoutSquare lastRow lastCol\"  style={\r\n\t\t\t\t\t{width:(width % 50), height:(height % 50)}}/>);\r\n\t\t\t}\r\n\t\t\t//Create the parent and add the children\r\n\t\t\ttable.push(<tr className=\"layoutRow lastRow\">{children}</tr>);\r\n\t\t}\r\n\t\treturn table\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t    <div id=\"layoutWrapper\" style={{width: this.props.width, height:this.props.height}}>\r\n\t\t\t    <table id=\"Layout\" cellSpacing=\"0\" >\r\n\t\t\t\t    {this.createGrid(this.props.height, this.props.width)}\r\n                        {this.props.itemList}\r\n\t\t\t    </table>\r\n\r\n\t\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ChartItem extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tname: this.props.name,\r\n\t\t\txCoordinate: parseInt(this.props.item.xCoordinate),\r\n\t\t\tyCoordinate: parseInt(this.props.item.yCoordinate),\r\n\t\t\theight: parseInt(this.props.item.height),\r\n      width: parseInt(this.props.item.width)\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass Table extends ChartItem {\r\n        constructor(props) {\r\n                super(props);\r\n                this.state = {\r\n                        seats: parseInt(this.props.item.seats),\r\n                        guests: this.props.item.guests,\r\n                };\r\n                this.openDialog = this.openDialog.bind(this);\r\n        \t\t\t\tthis.closeDialog = this.closeDialog.bind(this);\r\n        }\r\n\r\n        openDialog() {\r\n    \t\t\tdocument.getElementById(\"seatDialogBox\").style.display = 'block';\r\n    \t\t}\r\n\r\n        closeDialog() {\r\n    \t\t\tdocument.getElementById(\"seatDialogBox\").style.display = 'none';\r\n    \t\t}\r\n\r\n        render() {\r\n                return (\r\n                        <div className=\"table\" style={{\r\n                                width:parseInt(this.props.item.width),\r\n                                height:parseInt(this.props.item.height),\r\n                                top:parseInt(this.props.item.yCoordinate),\r\n                                left:parseInt(this.props.item.xCoordinate)\r\n                        }}>\r\n                         <input id=\"seat_guest\" class=\"button\" type=\"submit\" value=\"+\" onClick={() => this.openDialog()}/>\r\n                          <div className=\"dialogbox2\" id=\"seatDialogBox\">\r\n                                  <dialog open>\r\n                                          <div id=\"closeWindow\">\r\n                                                  <input type='submit' className=\"button2\" id=\"closeButton\" value='X' onClick={() => this.closeDialog()}/>\r\n                                          </div>\r\n                                          <h1>Guests</h1>\r\n                                          {this.state.guests}\r\n                                  </dialog>\r\n                          </div>\r\n                        </div>\r\n                );\r\n        }\r\n}\r\n\r\nexport default withRouter(GuestView);\r\n","import {withRouter} from \"react-router-dom\";\r\nimport '../../SeatPlanner.css';\r\nimport React from \"react\";\r\n\r\nexport class EventList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.storage.resetGuests();\r\n        this.props.storage.resetItems();\r\n        let gotEvents = this.props.storage.getEvents();\r\n        if (gotEvents[0]) {\r\n            this.state = {\r\n                eventList: gotEvents[1],\r\n                listItems: [],\r\n                name: '',\r\n                date: '',\r\n                address: '',\r\n                max: '',\r\n                width: '',\r\n                length: ''\r\n            };\r\n\r\n            for (let i = 0; i < this.state.eventList.length; i++) {\r\n                this.state.listItems.push(\r\n                    <EventItem\r\n                        Key={this.state.eventList[i].pin}\r\n                        Event={this.state.eventList[i]}\r\n                        eventName={this.state.eventList[i].name}\r\n                        storage={this.props.storage}\r\n                        history={this.props.history}\r\n                    />);\r\n            }\r\n        } else {\r\n            this.state = {\r\n                eventList: [],\r\n                listItems: [],\r\n                name: '',\r\n                date: '',\r\n                address: '',\r\n                max: ''\r\n            };\r\n        }\r\n\r\n        this.props.storage.setEvent(undefined);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleLogout = this.handleLogout.bind(this);\r\n        this.openDialog = this.openDialog.bind(this);\r\n        this.closeDialog = this.closeDialog.bind(this);\r\n        this.changeName = this.changeName.bind(this);\r\n        this.changeDate = this.changeDate.bind(this);\r\n        this.changeAddress = this.changeAddress.bind(this);\r\n        this.changeMax = this.changeMax.bind(this);\r\n        this.changeWidth = this.changeWidth.bind(this);\r\n        this.changeLength = this.changeLength.bind(this);\r\n    }\r\n\r\n    openDialog() {\r\n  \t\tdocument.getElementById('dialogbox').style.display = 'block';\r\n  \t}\r\n\r\n  \tcloseDialog() {\r\n        this.setState({\r\n            name: '',\r\n            date: '',\r\n            address: '',\r\n            max: '',\r\n            width: '',\r\n            length: ''\r\n        });\r\n  \t\tdocument.getElementById('dialogbox').style.display = 'none';\r\n  \t}\r\n\r\n    changeName(event) {\r\n  \t\tthis.setState({name: event.target.value});\r\n  \t}\r\n\r\n  \tchangeDate(event) {\r\n  \t\tthis.setState({date: event.target.value});\r\n  \t}\r\n\r\n  \tchangeAddress(event) {\r\n  \t\tthis.setState({address: event.target.value});\r\n  \t}\r\n\r\n  \tchangeMax(event) {\r\n  \t\tthis.setState({max: event.target.value});\r\n  \t}\r\n\r\n  \tchangeWidth(event) {\r\n        this.setState({width: event.target.value});\r\n    }\r\n\r\n    changeLength(event) {\r\n        this.setState({length: event.target.value});\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        let added = this.props.storage.addEvent(this.state);\r\n        if (added[0]) {\r\n          this.closeDialog();\r\n          let listLength = this.state.eventList.length;\r\n          this.setState({eventList: this.props.storage.getEvents()});\r\n          this.setState(prevState => ({\r\n              listItems: [...prevState.listItems, <EventItem\r\n                  Key={listLength}\r\n                  Event = {added[1]}\r\n                  eventName = {added[1].name}\r\n                  storage = {this.props.storage}\r\n                  history = {this.props.history}\r\n              />]\r\n          }));\r\n    \t\t} else {\r\n            this.setState({error: 'eventError'});\r\n            this.setState({errorMessage: added[1]});\r\n        }\r\n    }\r\n\r\n    handleLogout(event) {\r\n        event.preventDefault();\r\n        this.props.storage.clear();\r\n        this.props.history.push(\"/\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"wrapperbox\">\r\n                    <div id = \"welcome\">\r\n                        <div className='button' id='logout' onClick={this.handleLogout}>\r\n                            Logout\r\n                        </div>\r\n                        <h1>Welcome, {this.props.storage.getUser().name}!</h1>\r\n                    </div>\r\n                    <div id=\"listWrapper\">\r\n                        <ul id=\"eventList\">{this.state.listItems}</ul>\r\n                        <input type='submit' className='button' id='add_event' value='Add Event' onClick={() => this.openDialog()}/>\r\n                    </div>\r\n                    <div id=\"dialogbox\">\r\n                        <dialog open>\r\n                            <div id=\"closeWindow\">\r\n                                <input type='submit' className='button2' id=\"closeButton\" value='X' onClick={() => this.closeDialog()}/>\r\n                            </div>\r\n                            <h1>Add an Event</h1>\r\n                            <form onSubmit={this.handleSubmit}>\r\n                                <input type=\"text\" className=\"textBox\"\r\n                                        id=\"name\" placeholder=\"Event Name\"\r\n                                        value ={this.state.name}\r\n                                        onChange={this.changeName} required />\r\n                                <input type=\"datetime-local\" className=\"textBox\"\r\n                                       id=\"date\" placeholder=\"Date/Time\"\r\n                                       value ={this.state.date}\r\n                                       onChange={this.changeDate} required />\r\n                                <input type=\"text\" className=\"textBox\"\r\n                                        id=\"address\" placeholder=\"Address\"\r\n                                        value ={this.state.address}\r\n                                        onChange={this.changeAddress} required/>\r\n                                <input type=\"number\" className=\"textBox\"\r\n                                        id=\"max\" placeholder=\"Max # of Guests\"\r\n                                        value ={this.state.max}\r\n                                        onChange={this.changeMax} required/>\r\n                                <h2>Venue Dimensions</h2>\r\n                                <h3 id=\"widthHead\">Width</h3>\r\n                                <h3 id=\"lengthHead\">Length</h3>\r\n                                <input type=\"number\" className=\"dimBox\"\r\n                                       id=\"width\" value ={this.state.width}\r\n                                       onChange={this.changeWidth} required/>ft.\r\n                                <input type=\"number\" className=\"dimBox\"\r\n                                       id=\"width\" value ={this.state.length}\r\n                                       onChange={this.changeLength} required/>ft.\r\n                                <div className='eventError' id={this.state.error} >\r\n                                    {this.state.errorMessage}\r\n                                </div>\r\n                                <div id=\"buttonbox\">\r\n                                    <input type='submit' className='button' id='add_event' value='Submit'/>\r\n                                </div>\r\n                            </form>\r\n                        </dialog>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass EventItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.goToEvent = this.goToEvent.bind(this);\r\n    }\r\n\r\n    goToEvent(event) {\r\n        event.preventDefault();\r\n        this.props.storage.setEvent(this.props.Event);\r\n        this.props.history.push('/planner');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <li key={this.props.Key} className='eventItem' onClick={this.goToEvent} value={this.props.eventName}>{this.props.eventName}</li>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(EventList);\r\n","import ls from 'local-storage';\r\nimport {Guest, User} from \"./User\";\r\nimport React from \"react\";\r\nimport {ChartItem, Table} from \"./ChartItems\"\r\nimport {\r\n    addEvent,\r\n    addGuest,\r\n    deleteGuest,\r\n    updateGuest,\r\n    deleteEvent,\r\n    getEventList,\r\n    getGuestList,\r\n    getSingleEvent,\r\n    getGuestGroup,\r\n    getItemList,\r\n    pushLayout,\r\n    addGuestTable\r\n} from \"./Validator\";\r\n\r\nconst randomize = require(\"randomatic\");\r\n\r\nexport class LocalStorage {\r\n    constructor() {\r\n        if (ls('guestList') === null)\r\n            ls('guestList', []);\r\n        if (ls('itemList') === null)\r\n            ls('itemList', []);\r\n        if (ls('eventList') === null)\r\n            ls('eventList', []);\r\n        if (ls('curUser') === null)\r\n            ls('curUser', undefined);\r\n        if (ls('curGuest') === null)\r\n            ls('curGuest', undefined);\r\n        if (ls('curEvent') == null)\r\n            ls('curEvent', undefined);\r\n        if (ls('curGroup') == null)\r\n            ls('curGroup', undefined);\r\n        if (ls('curTable') == null)\r\n            ls('curTable', undefined);\r\n        if (ls('signed') === null)\r\n            ls('signed', false);\r\n        this.lastAddedGuest=\"\";\r\n        this.removeGuestTable = this.removeGuestTable.bind(this);\r\n    }\r\n\r\n    setUser(newUser) {\r\n        if (newUser instanceof User) {\r\n            ls('curUser', newUser);\r\n            ls('signed', true);\r\n            return true;\r\n        } else if (newUser instanceof Guest) {\r\n             ls('curUser', newUser);\r\n             ls('signed', true);\r\n             return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    getUser() {\r\n        return ls('curUser');\r\n    }\r\n    addGuest(state) {\r\n        if (ls('curEvent') !== undefined) {\r\n            let guests = ls('guestList');\r\n            let added = addGuest(state, ls('curEvent').pin);\r\n            if (added[0]) {\r\n                guests.push(added[1]);\r\n                this.lastAddedGuest = added[1];\r\n                ls('guestList', guests.sort(function (guest1, guest2) {\r\n                    return guest1.name.localeCompare(guest2.name);\r\n                }));\r\n                return added;\r\n            } else {\r\n                return added;\r\n            }\r\n        }\r\n        return [false];\r\n    }\r\n    setGuest(newGuest) {\r\n      ls('curGuest', newGuest)\r\n    }\r\n    deleteGuest() {\r\n      if (ls('curGuest') !== undefined) {\r\n        let guests = ls('guestList');\r\n        let deleted = deleteGuest(ls('curGuest').guestId);\r\n        if (deleted[0]) {\r\n          let filtered = guests.filter(function(value, index, arr) {\r\n            return value.guestId !== ls('curGuest').guestId;\r\n          });\r\n          ls('guestList', filtered);\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    updateGuest(state) {\r\n      if (ls('curGuest') !== undefined) {\r\n        let guests = ls('guestList');\r\n        let updated = updateGuest(state, ls('curGuest').guestId);\r\n        if (updated[0]) {\r\n          for (let i in guests) {\r\n            if (guests[i].guestId === ls('curGuest').guestId) {\r\n              guests[i].userName = state.email;\r\n              guests[i].name = state.name;\r\n              guests[i].phoneNumber = state.phone;\r\n              guests[i].address = state.address;\r\n              break; // found it\r\n            }\r\n          }\r\n          ls('guestList', guests.sort(function (guest1, guest2) {\r\n              return guest1.name.localeCompare(guest2.name);\r\n          }));\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    updateGuestUser(state) {\r\n      if (ls('curUser') !== undefined) {\r\n        let updated = updateGuest(state, ls('curUser').guestId);\r\n        if (updated[0]) {\r\n          let newUser = new Guest(state.email, state.name, state.address, state.phone, ls('curUser').guestId, ls('curUser').eventPin);\r\n          ls('curUser', newUser);\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    getGuest() {\r\n      return ls('curGuest');\r\n    }\r\n    getGuestList() {\r\n      return ls('guestList');\r\n    }\r\n    getGuests() {\r\n      if (ls('guestList').length !== 0) {\r\n          return [true, ls('guestList')];\r\n      } else {\r\n           if (ls('curEvent') !== undefined) {\r\n              let added = getGuestList(ls('curEvent').pin);\r\n              if (added[0]) {\r\n                  ls('guestList', added[1].sort(function (guest1, guest2) {\r\n                      return guest1.name.localeCompare(guest2.name);\r\n                  }));\r\n              }\r\n              return [added[0], ls('guestList')];\r\n          }\r\n          return [false, \"No Current Event\"];\r\n      }\r\n    }\r\n    resetGuest() {\r\n      ls('curGuest', undefined);\r\n    }\r\n    resetGuests() {\r\n      ls('guestList', []);\r\n    }\r\n    addEvent(state) {\r\n        let eventList = ls('eventList');\r\n        let added = addEvent(state, this.getUser().userName);\r\n        if (added[0]) {\r\n            eventList.push(added[1]);\r\n            ls('eventList', eventList);\r\n        }\r\n        return added;\r\n    }\r\n    deleteEvent() {\r\n      if (ls('curEvent') !== undefined) {\r\n        let events = ls('eventList');\r\n        let deleted = deleteEvent(ls('curEvent').pin);\r\n        if (deleted[0]) {\r\n          let filtered = events.filter(function(value, index, arr) {\r\n            return value.pin !== ls('curEvent').pin;\r\n          });\r\n          ls('eventList', filtered);\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    setEvent(newEvent) {\r\n        ls('curEvent', newEvent);\r\n    }\r\n    getSingleEvent() {\r\n        let newEvent = getSingleEvent(ls('curUser').eventPin);\r\n        if (newEvent[0]) {\r\n          ls('curEvent', newEvent[1]);\r\n        }\r\n    }\r\n    getEvent() {\r\n        return ls('curEvent');\r\n    }\r\n    getEvents() {\r\n\r\n        if (ls('eventList').length !== 0) {\r\n            return [true, ls('eventList')];\r\n        } else {\r\n            if (ls('curUser') !== undefined) {\r\n\r\n                let added = getEventList(ls('curUser'));\r\n                if (added[0]) {\r\n                    ls('eventList', added[1]);\r\n                }\r\n                return added\r\n            }\r\n\r\n            return [false, \"No Current User\"];\r\n        }\r\n    }\r\n    getGuestGroup() {\r\n      if (ls('curUser') !== undefined) {\r\n        let group = getGuestGroup(ls('curUser').guestId);\r\n        if (group[0]) {\r\n          ls('curGroup', group[1]);\r\n          return [true, group[1]];\r\n        } else {\r\n            return [false, \"No Group\"]\r\n        }\r\n      } else {\r\n          return [false, \"No Current User\"];\r\n      }\r\n    }\r\n    addItem(state) {\r\n\r\n    }\r\n    addTable(state) {\r\n        let items = ls('itemList');\r\n        let tableHeight = parseInt(state.height)*10;\r\n        let tableWidth = parseInt(state.width)*10;\r\n        let curEvent = ls('curEvent');\r\n\r\n        if (tableHeight >= curEvent.layout_length\r\n            || tableWidth >= curEvent.layout_width) {\r\n            return [false, \"Table too large to fit in Layout\"];\r\n        } else if (tableWidth < 50 || tableHeight < 50) {\r\n            return [false, \"Table must be at least 5ft. by 5ft.\"];\r\n        } else if (parseInt(state.numSeats) > (tableHeight/25) + (tableWidth/25)) {\r\n            return [false, \"Table not large enough to seat \" + state.numSeats + \" people.\"];\r\n        }\r\n\r\n        let pin = randomize('Aa0', 5);\r\n        let table = new Table({name: \"Table\" + (items.length + 1),\r\n            xCoordinate: 0, yCoordinate: 0, height:tableHeight, width:tableWidth,\r\n            seats:state.numSeats, guests: [], availableSeats:state.numSeats, tableId: pin});\r\n        items.push(table);\r\n        ls('itemList', items);\r\n        return [true];\r\n    }\r\n    updateTableLocation(tableId, newX, newY) {\r\n        let itemList = ls('itemList');\r\n        for (let item in itemList) {\r\n            if (itemList[item].tableId === tableId) {\r\n                // we found the table, and we've updated its location\r\n                itemList[item].xCoordinate = newX;\r\n                itemList[item].yCoordinate = newY;\r\n                ls('itemList', itemList);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    addGuestTable(table, guest_pin) {\r\n        let itemList = ls('itemList');\r\n        let guestList = ls('guestList');\r\n        let guestIndex = -1;\r\n        let curGuest = '';\r\n        for (let item in itemList) {\r\n            if (itemList[item].tableId === table.tableId) {\r\n                for (let i = 0; i < guestList.length; i++) {\r\n                    if (guestList[i].guestId === guest_pin) {\r\n                        curGuest = guestList[i];\r\n                        guestIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n                if (curGuest === '') {\r\n                    return [false, \"No such Guest Found\"];\r\n                } else if (curGuest.tableSeated === table.tableId) {\r\n                    return [false, \"Guest Already Seated at Current Table\"]\r\n                } else if (itemList[item].availableSeats < itemList[item].guests.length + 1) {\r\n                    return [false, \"No Seats Left at Table\"];\r\n                } else if (curGuest.tableSeated !== '') {\r\n                    this.removeGuestTable(curGuest.tableSeated, guest_pin);\r\n                    itemList = ls('itemList');\r\n                }\r\n                itemList[item].guests.push({full_name:curGuest.name, guest_pin:guest_pin});\r\n                guestList[guestIndex].tableSeated = table.tableId;\r\n                ls('itemList', itemList);\r\n                ls('guestList', guestList);\r\n                return [true, itemList[item]];\r\n                //no need to break because return ends the function\r\n            }\r\n        }\r\n    }\r\n    removeGuestTable(tableId, guestId) {\r\n        let tableList = ls('itemList');\r\n        let guestList = ls('guestList');\r\n        let newGuests = [];\r\n        for (let i = 0; i < tableList.length; i++) {\r\n            if (tableList[i].tableId === tableId) {\r\n                for (let j = 0; j < tableList[i].guests.length; j++) {\r\n                    if (tableList[i].guests[j].guest_pin === guestId) {\r\n                        tableList[i].guests.splice(j, 1);\r\n                        newGuests = tableList[i].guests;\r\n                        break;\r\n                    }\r\n                }\r\n                for (let j = 0; j < guestList.length; j++) {\r\n                    if (guestList[j].guestId === guestId) {\r\n                        guestList[j].tableSeated = '';\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        ls('itemList', tableList);\r\n        ls('guestList', guestList);\r\n        return newGuests;\r\n    }\r\n    setCurTable(tableId) {\r\n      let itemList = ls('itemList');\r\n      for (let item in itemList) {\r\n          if (itemList[item].tableId === tableId) {\r\n             ls('curTable', itemList[item])\r\n              break;\r\n          }\r\n       }\r\n    }\r\n    getCurTable() {\r\n      return ls('curTable');\r\n    }\r\n    resetCurTable() {\r\n      ls('curTable', undefined);\r\n    }\r\n    getItems() {\r\n        if(ls('itemList').length !== 0) {\r\n            return [true, ls('itemList')];\r\n        } else {\r\n            if (ls('curEvent') !== undefined) {\r\n                let gotItems = getItemList(ls('curEvent').pin);\r\n                if (gotItems[0]) {\r\n                    ls('itemList', gotItems[1]);\r\n                }\r\n                return gotItems;\r\n            }\r\n            return [false, \"No Current User\"];\r\n        }\r\n    }\r\n    resetItems() {\r\n        ls(\"itemList\", []);\r\n    }\r\n    saveLayout() {\r\n      if(ls('itemList').length !== 0) {\r\n        let save = pushLayout(ls('itemList'), ls('curEvent').pin);\r\n        if (save[0]) {\r\n          return [true];\r\n        }\r\n      } else {\r\n        return [false, \"No Items Present On Layout\"];\r\n      }\r\n    }\r\n    clear() {\r\n        ls('curUser', undefined);\r\n        ls('curGuest', undefined);\r\n        ls('curEvent', undefined);\r\n        ls('curGroup', undefined);\r\n        ls('guestList', []);\r\n        ls('itemList', []);\r\n        ls('eventList', []);\r\n        ls('signed', false);\r\n    }\r\n\r\n    isSigned() {\r\n        return ls('signed');\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Route, Redirect} from \"react-router-dom\";\r\nimport {LocalStorage} from \"../services/LocalStorage\";\r\n\r\nexport default function RouteWrapper({\r\n    isPrivate,\r\n    storage,\r\n    ...rest\r\n    }) {\r\n\r\n    /**\r\n     * Redirect user to SignIn page if he tries to access a private route\r\n     * without authentication.\r\n     */\r\n    if (isPrivate && !storage.isSigned()) {\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    /**\r\n     * If not included on both previous cases, redirect user to the desired route.\r\n     */\r\n    return <Route {...rest} />;\r\n}\r\n\r\nRouteWrapper.propTypes = {\r\n    isPrivate: PropTypes.bool,\r\n    storage: PropTypes.instanceOf(LocalStorage).isRequired\r\n};\r\n\r\nRouteWrapper.defaultProps = {\r\n    isPrivate: false\r\n};","import React from \"react\";\r\nimport { BrowserRouter, Switch} from \"react-router-dom\";\r\nimport Login from '../pages/Login';\r\nimport Register from '../pages/Register';\r\nimport Planner from '../pages/Planner';\r\nimport Guest from '../pages/Guest';\r\nimport Events from '../pages/Events';\r\nimport Route from './Route'\r\nimport {LocalStorage} from '../services/LocalStorage'\r\n\r\nexport default function Routes() {\r\n    let storage = new LocalStorage();\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/\" exact\r\n                   render = {(props) =><Login{...props} history = {Routes.history} storage = {storage}/>}\r\n                   storage={storage}\r\n            />\r\n            <Route path=\"/register\"\r\n                   render = {(props) =><Register{...props} history = {Routes.history} storage = {storage}/>}\r\n                   storage={storage}\r\n            />\r\n            <Route path = \"/events\"\r\n                    render = {(props) =><Events{...props} history = {Routes.history} storage = {storage}/>}\r\n                    isPrivate = {true} storage={storage}\r\n            />\r\n            <Route path=\"/planner\"\r\n                   render = {(props) =><Planner{...props} history = {Routes.history} storage = {storage}/>}\r\n                   isPrivate = {true} storage={storage}\r\n            />\r\n            <Route path=\"/guest\"\r\n                   render = {(props) =><Guest{...props} history = {Routes.history} storage = {storage}/>}\r\n                   isPrivate = {true} storage={storage}\r\n            />\r\n            {/* redirect user to Login page if route does not exist and user is not authenticated */}\r\n            <Route\r\n                render = {(props) =><Login{...props} history = {Routes.history} storage = {storage}/>}\r\n                storage={storage}\r\n            />\r\n        </Switch>\r\n       </BrowserRouter>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Router } from 'react-router';\r\n\r\nimport history from './services/history';\r\nimport Routes from './routes';\r\n\r\nfunction App() {\r\n    return (\r\n        <Router history={history}>\r\n            <Routes  />\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"mainbox\"));\r\n\r\nserviceWorker.unregister();\r\n\r\n"],"sourceRoot":""}